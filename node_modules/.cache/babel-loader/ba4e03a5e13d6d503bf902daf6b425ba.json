{"ast":null,"code":"var _jsxFileName = \"/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/sections/apps/chat/ChatHistory.tsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useRef } from 'react'; // material-ui\n\nimport { Card, CardContent, Grid, Stack, Typography } from '@mui/material'; // project imports\n\nimport UserAvatar from './UserAvatar';\nimport ChatMessageAction from './ChatMessageAction';\nimport IconButton from 'components/@extended/IconButton'; // assets\n\nimport { EditOutlined } from '@ant-design/icons'; // types\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatHistory = _ref => {\n  _s();\n\n  let {\n    data,\n    theme,\n    user\n  } = _ref;\n  // scroll to bottom when new message is sent or received\n  const wrapper = useRef(document.createElement('div'));\n  const el = wrapper.current;\n  const scrollToBottom = useCallback(() => {\n    el.scrollIntoView(false);\n  }, [el]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [data.length, scrollToBottom]);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2.5,\n    ref: wrapper,\n    children: data.map((history, index) => /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: history.from !== user.name ? /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 1.25,\n        direction: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 1,\n          justifyContent: \"flex-end\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2,\n            md: 3,\n            xl: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 10,\n            md: 9,\n            xl: 8,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              justifyContent: \"flex-end\",\n              alignItems: \"flex-start\",\n              children: [/*#__PURE__*/_jsxDEV(ChatMessageAction, {\n                index: index\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                color: \"secondary\",\n                children: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  display: 'inline-block',\n                  float: 'right',\n                  bgcolor: theme.palette.primary.main,\n                  boxShadow: 'none',\n                  ml: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    p: 1,\n                    pb: '8px !important',\n                    width: 'fit-content',\n                    ml: 'auto'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    spacing: 1,\n                    children: /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 12,\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        color: theme.palette.grey[0],\n                        children: history.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 65,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 64,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              align: \"right\",\n              variant: \"subtitle2\",\n              color: \"textSecondary\",\n              children: history.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(UserAvatar, {\n          user: {\n            online_status: 'available',\n            avatar: 'avatar-1.png',\n            name: 'User 1'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 1.25,\n        alignItems: \"flext-start\",\n        children: [/*#__PURE__*/_jsxDEV(UserAvatar, {\n          user: {\n            online_status: user.online_status,\n            avatar: user.avatar,\n            name: user.name\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 7,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                display: 'inline-block',\n                float: 'left',\n                bgcolor: theme.palette.mode === 'dark' ? 'background.background' : 'grey.0',\n                boxShadow: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                sx: {\n                  p: 1,\n                  pb: '8px !important'\n                },\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 1,\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      color: \"textPrimary\",\n                      children: history.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sx: {\n              mt: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              align: \"left\",\n              variant: \"subtitle2\",\n              color: \"textSecondary\",\n              children: history.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatHistory, \"SexRctGrvbKs3qCs1+4SBQJP36U=\");\n\n_c = ChatHistory;\nexport default ChatHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatHistory\");","map":{"version":3,"names":["useCallback","useEffect","useRef","Card","CardContent","Grid","Stack","Typography","UserAvatar","ChatMessageAction","IconButton","EditOutlined","ChatHistory","data","theme","user","wrapper","document","createElement","el","current","scrollToBottom","scrollIntoView","length","map","history","index","from","name","display","float","bgcolor","palette","primary","main","boxShadow","ml","p","pb","width","grey","text","time","online_status","avatar","mode","mt"],"sources":["/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/sections/apps/chat/ChatHistory.tsx"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\n\n// material-ui\nimport { Card, CardContent, Grid, Stack, Theme, Typography } from '@mui/material';\n\n// project imports\nimport UserAvatar from './UserAvatar';\nimport ChatMessageAction from './ChatMessageAction';\nimport IconButton from 'components/@extended/IconButton';\n\n// assets\nimport { EditOutlined } from '@ant-design/icons';\n\n// types\nimport { UserProfile } from 'types/user-profile';\nimport { History } from 'types/chat';\n\n// ==============================|| CHAT MESSAGE HISTORY ||============================== //\n\ninterface ChatHistoryProps {\n  data: History[];\n  theme: Theme;\n  user: UserProfile;\n}\n\nconst ChatHistory = ({ data, theme, user }: ChatHistoryProps) => {\n  // scroll to bottom when new message is sent or received\n  const wrapper = useRef(document.createElement('div'));\n  const el = wrapper.current;\n  const scrollToBottom = useCallback(() => {\n    el.scrollIntoView(false);\n  }, [el]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [data.length, scrollToBottom]);\n\n  return (\n    <Grid container spacing={2.5} ref={wrapper}>\n      {data.map((history, index) => (\n        <Grid item xs={12} key={index}>\n          {history.from !== user.name ? (\n            <Stack spacing={1.25} direction=\"row\">\n              <Grid container spacing={1} justifyContent=\"flex-end\">\n                <Grid item xs={2} md={3} xl={4} />\n\n                <Grid item xs={10} md={9} xl={8}>\n                  <Stack direction=\"row\" justifyContent=\"flex-end\" alignItems=\"flex-start\">\n                    <ChatMessageAction index={index} />\n                    <IconButton size=\"small\" color=\"secondary\">\n                      <EditOutlined />\n                    </IconButton>\n                    <Card\n                      sx={{\n                        display: 'inline-block',\n                        float: 'right',\n                        bgcolor: theme.palette.primary.main,\n                        boxShadow: 'none',\n                        ml: 1\n                      }}\n                    >\n                      <CardContent sx={{ p: 1, pb: '8px !important', width: 'fit-content', ml: 'auto' }}>\n                        <Grid container spacing={1}>\n                          <Grid item xs={12}>\n                            <Typography variant=\"h6\" color={theme.palette.grey[0]}>\n                              {history.text}\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </CardContent>\n                    </Card>\n                  </Stack>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography align=\"right\" variant=\"subtitle2\" color=\"textSecondary\">\n                    {history.time}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <UserAvatar user={{ online_status: 'available', avatar: 'avatar-1.png', name: 'User 1' }} />\n            </Stack>\n          ) : (\n            <Stack direction=\"row\" spacing={1.25} alignItems=\"flext-start\">\n              <UserAvatar user={{ online_status: user.online_status, avatar: user.avatar, name: user.name }} />\n\n              <Grid container>\n                <Grid item xs={12} sm={7}>\n                  <Card\n                    sx={{\n                      display: 'inline-block',\n                      float: 'left',\n                      bgcolor: theme.palette.mode === 'dark' ? 'background.background' : 'grey.0',\n                      boxShadow: 'none'\n                    }}\n                  >\n                    <CardContent sx={{ p: 1, pb: '8px !important' }}>\n                      <Grid container spacing={1}>\n                        <Grid item xs={12}>\n                          <Typography variant=\"h6\" color=\"textPrimary\">\n                            {history.text}\n                          </Typography>\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </Card>\n                </Grid>\n                <Grid item xs={12} sx={{ mt: 1 }}>\n                  <Typography align=\"left\" variant=\"subtitle2\" color=\"textSecondary\">\n                    {history.time}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Stack>\n          )}\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default ChatHistory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}