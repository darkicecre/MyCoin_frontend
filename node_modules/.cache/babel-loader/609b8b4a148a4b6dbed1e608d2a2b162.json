{"ast":null,"code":"var _jsxFileName = \"/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/sections/apps/e-commerce/checkout/CartDiscount.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react'; // material-ui\n\nimport { Button, FormHelperText, Stack, TextField, Typography } from '@mui/material'; // third-party\n\nimport { useFormik } from 'formik';\nimport * as yup from 'yup'; // project imports\n\nimport CouponCode from './CouponCode';\nimport { useDispatch, useSelector } from 'store';\nimport { setDiscount } from 'store/reducers/cart';\nimport { openSnackbar } from 'store/reducers/snackbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = yup.object({\n  code: yup.string().oneOf(['MANTIS50', 'FLAT05', 'SUB150', 'UPTO200'], 'Coupon expired').required('Coupon code is required')\n}); // ==============================|| CHECKOUT CART - CART DISCOUNT ||============================== //\n\nconst CartDiscount = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [coupon, setCoupon] = useState('');\n  const cart = useSelector(state => state.cart);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      code: coupon\n    },\n    validationSchema,\n    onSubmit: values => {\n      dispatch(setDiscount(values.code, cart.checkout.total));\n      dispatch(openSnackbar({\n        open: true,\n        message: 'Coupon Add Success',\n        variant: 'alert',\n        alert: {\n          color: 'success'\n        },\n        close: false\n      }));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    justifyContent: \"flex-end\",\n    spacing: 1,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      align: \"left\",\n      variant: \"caption\",\n      color: \"textSecondary\",\n      sx: {\n        cursor: 'pointer'\n      },\n      onClick: handleClickOpen,\n      children: \"Have a Promo Code?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        justifyContent: \"flex-end\",\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"code\",\n            name: \"code\",\n            fullWidth: true,\n            placeholder: \"example\",\n            value: formik.values.code,\n            onChange: formik.handleChange,\n            error: Boolean(formik.errors.code)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            color: \"primary\",\n            variant: \"contained\",\n            \"aria-label\": \"directions\",\n            children: \"Apply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), formik.errors.code && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          error: true,\n          id: \"standard-code\",\n          children: formik.errors.code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CouponCode, {\n      open: open,\n      handleClose: handleClose,\n      setCoupon: setCoupon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartDiscount, \"IymiYBZUT7GOJJWKI7eYtybAafA=\", false, function () {\n  return [useDispatch, useSelector, useFormik];\n});\n\n_c = CartDiscount;\nexport default CartDiscount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartDiscount\");","map":{"version":3,"names":["useState","Button","FormHelperText","Stack","TextField","Typography","useFormik","yup","CouponCode","useDispatch","useSelector","setDiscount","openSnackbar","validationSchema","object","code","string","oneOf","required","CartDiscount","dispatch","open","setOpen","coupon","setCoupon","cart","state","handleClickOpen","handleClose","formik","enableReinitialize","initialValues","onSubmit","values","checkout","total","message","variant","alert","color","close","cursor","handleSubmit","handleChange","Boolean","errors"],"sources":["/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/sections/apps/e-commerce/checkout/CartDiscount.tsx"],"sourcesContent":["import { useState } from 'react';\n\n// material-ui\nimport { Button, FormHelperText, Stack, TextField, Typography } from '@mui/material';\n\n// third-party\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\n\n// project imports\nimport CouponCode from './CouponCode';\nimport { useDispatch, useSelector } from 'store';\nimport { setDiscount } from 'store/reducers/cart';\nimport { openSnackbar } from 'store/reducers/snackbar';\n\nconst validationSchema = yup.object({\n  code: yup.string().oneOf(['MANTIS50', 'FLAT05', 'SUB150', 'UPTO200'], 'Coupon expired').required('Coupon code is required')\n});\n\n// ==============================|| CHECKOUT CART - CART DISCOUNT ||============================== //\n\nconst CartDiscount = () => {\n  const dispatch = useDispatch();\n\n  const [open, setOpen] = useState(false);\n  const [coupon, setCoupon] = useState<string>('');\n  const cart = useSelector((state) => state.cart);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      code: coupon\n    },\n    validationSchema,\n    onSubmit: (values) => {\n      dispatch(setDiscount(values.code, cart.checkout.total));\n      dispatch(\n        openSnackbar({\n          open: true,\n          message: 'Coupon Add Success',\n          variant: 'alert',\n          alert: {\n            color: 'success'\n          },\n          close: false\n        })\n      );\n    }\n  });\n\n  return (\n    <Stack justifyContent=\"flex-end\" spacing={1}>\n      <Typography align=\"left\" variant=\"caption\" color=\"textSecondary\" sx={{ cursor: 'pointer' }} onClick={handleClickOpen}>\n        Have a Promo Code?\n      </Typography>\n      <form onSubmit={formik.handleSubmit}>\n        <Stack justifyContent=\"flex-end\" spacing={1}>\n          <Stack direction=\"row\" justifyContent=\"space-between\" spacing={2}>\n            <TextField\n              id=\"code\"\n              name=\"code\"\n              fullWidth\n              placeholder=\"example\"\n              value={formik.values.code}\n              onChange={formik.handleChange}\n              error={Boolean(formik.errors.code)}\n            />\n\n            <Button type=\"submit\" color=\"primary\" variant=\"contained\" aria-label=\"directions\">\n              Apply\n            </Button>\n          </Stack>\n          {formik.errors.code && (\n            <FormHelperText error id=\"standard-code\">\n              {formik.errors.code}\n            </FormHelperText>\n          )}\n        </Stack>\n      </form>\n\n      <CouponCode open={open} handleClose={handleClose} setCoupon={setCoupon} />\n    </Stack>\n  );\n};\n\nexport default CartDiscount;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}