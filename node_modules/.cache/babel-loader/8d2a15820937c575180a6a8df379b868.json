{"ast":null,"code":"// third-party\nimport { createSlice } from '@reduxjs/toolkit'; // project imports\n\nimport axios from 'utils/axios';\nimport { dispatch } from '../index'; // types\n\n// ----------------------------------------------------------------------\nconst initialState = {\n  error: null,\n  products: [],\n  product: null,\n  relatedProducts: [],\n  reviews: [],\n  addresses: []\n};\nconst slice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    // HAS ERROR\n    hasError(state, action) {\n      state.error = action.payload;\n    },\n\n    // GET PRODUCTS\n    getProductsSuccess(state, action) {\n      state.products = action.payload;\n    },\n\n    // FILTER PRODUCTS\n    filterProductsSuccess(state, action) {\n      state.products = action.payload;\n    },\n\n    // GET PRODUCT\n    getProductSuccess(state, action) {\n      state.product = action.payload;\n    },\n\n    // GET RELATED PRODUCTS\n    getRelatedProductsSuccess(state, action) {\n      state.relatedProducts = action.payload;\n    },\n\n    // GET PRODUCT REVIEWS\n    getProductReviewsSuccess(state, action) {\n      state.reviews = action.payload;\n    },\n\n    // GET ADDRESSES\n    getAddressesSuccess(state, action) {\n      state.addresses = action.payload;\n    },\n\n    // ADD ADDRESS\n    addAddressSuccess(state, action) {\n      state.addresses = action.payload;\n    },\n\n    // EDIT ADDRESS\n    editAddressSuccess(state, action) {\n      state.addresses = action.payload;\n    }\n\n  }\n}); // Reducer\n\nexport default slice.reducer; // ----------------------------------------------------------------------\n\nexport function getProducts() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/products/list');\n      dispatch(slice.actions.getProductsSuccess(response.data.products));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function filterProducts(filter) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/products/filter', {\n        filter\n      });\n      dispatch(slice.actions.filterProductsSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function getProduct(id) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/product/details', {\n        id\n      });\n      dispatch(slice.actions.getProductSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function getRelatedProducts(id) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/product/related', {\n        id\n      });\n      dispatch(slice.actions.getRelatedProductsSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function getProductReviews() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/review/list');\n      dispatch(slice.actions.getProductReviewsSuccess(response.data.productReviews));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function getAddresses() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/address/list');\n      dispatch(slice.actions.getAddressesSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function addAddress(address) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/address/new', address);\n      dispatch(slice.actions.addAddressSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\nexport function editAddress(address) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/address/edit', address);\n      dispatch(slice.actions.editAddressSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}","map":{"version":3,"names":["createSlice","axios","dispatch","initialState","error","products","product","relatedProducts","reviews","addresses","slice","name","reducers","hasError","state","action","payload","getProductsSuccess","filterProductsSuccess","getProductSuccess","getRelatedProductsSuccess","getProductReviewsSuccess","getAddressesSuccess","addAddressSuccess","editAddressSuccess","reducer","getProducts","response","get","actions","data","filterProducts","filter","post","getProduct","id","getRelatedProducts","getProductReviews","productReviews","getAddresses","address","addAddress","editAddress"],"sources":["/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/store/reducers/product.ts"],"sourcesContent":["// third-party\nimport { createSlice } from '@reduxjs/toolkit';\n\n// project imports\nimport axios from 'utils/axios';\nimport { dispatch } from '../index';\n\n// types\nimport { Address, DefaultRootStateProps, ProductsFilter } from 'types/e-commerce';\n\n// ----------------------------------------------------------------------\n\nconst initialState: DefaultRootStateProps['product'] = {\n  error: null,\n  products: [],\n  product: null,\n  relatedProducts: [],\n  reviews: [],\n  addresses: []\n};\n\nconst slice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    // HAS ERROR\n    hasError(state, action) {\n      state.error = action.payload;\n    },\n\n    // GET PRODUCTS\n    getProductsSuccess(state, action) {\n      state.products = action.payload;\n    },\n\n    // FILTER PRODUCTS\n    filterProductsSuccess(state, action) {\n      state.products = action.payload;\n    },\n\n    // GET PRODUCT\n    getProductSuccess(state, action) {\n      state.product = action.payload;\n    },\n\n    // GET RELATED PRODUCTS\n    getRelatedProductsSuccess(state, action) {\n      state.relatedProducts = action.payload;\n    },\n\n    // GET PRODUCT REVIEWS\n    getProductReviewsSuccess(state, action) {\n      state.reviews = action.payload;\n    },\n\n    // GET ADDRESSES\n    getAddressesSuccess(state, action) {\n      state.addresses = action.payload;\n    },\n\n    // ADD ADDRESS\n    addAddressSuccess(state, action) {\n      state.addresses = action.payload;\n    },\n\n    // EDIT ADDRESS\n    editAddressSuccess(state, action) {\n      state.addresses = action.payload;\n    }\n  }\n});\n\n// Reducer\nexport default slice.reducer;\n\n// ----------------------------------------------------------------------\n\nexport function getProducts() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/products/list');\n      dispatch(slice.actions.getProductsSuccess(response.data.products));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function filterProducts(filter: ProductsFilter) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/products/filter', { filter });\n      dispatch(slice.actions.filterProductsSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function getProduct(id: string | undefined) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/product/details', { id });\n      dispatch(slice.actions.getProductSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function getRelatedProducts(id: string | undefined) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/product/related', { id });\n      dispatch(slice.actions.getRelatedProductsSuccess(response.data));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function getProductReviews() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/review/list');\n      dispatch(slice.actions.getProductReviewsSuccess(response.data.productReviews));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function getAddresses() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/address/list');\n      dispatch(slice.actions.getAddressesSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function addAddress(address: Address) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/address/new', address);\n      dispatch(slice.actions.addAddressSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\nexport function editAddress(address: Address) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/address/edit', address);\n      dispatch(slice.actions.editAddressSuccess(response.data.address));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}