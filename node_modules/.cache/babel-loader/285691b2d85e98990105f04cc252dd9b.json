{"ast":null,"code":"// third-party\nimport { createSlice } from '@reduxjs/toolkit'; // project imports\n\nimport axios from 'utils/axios';\nimport { dispatch } from '../index'; // types\n\n// ----------------------------------------------------------------------\nconst initialState = {\n  error: null,\n  chats: [],\n  user: {},\n  users: []\n};\nconst chat = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    // HAS ERROR\n    hasError(state, action) {\n      state.error = action.payload;\n    },\n\n    // GET USER\n    getUserSuccess(state, action) {\n      state.user = action.payload;\n    },\n\n    // GET USER CHATS\n    getUserChatsSuccess(state, action) {\n      state.chats = action.payload;\n    },\n\n    // GET USERS\n    getUsersSuccess(state, action) {\n      state.users = action.payload;\n    }\n\n  }\n}); // Reducer\n\nexport default chat.reducer; // ----------------------------------------------------------------------\n\nexport function getUser(id) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/chat/users/id', {\n        id\n      });\n      dispatch(chat.actions.getUserSuccess(response.data));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\nexport function getUserChats(user) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/chat/filter', {\n        user\n      });\n      dispatch(chat.actions.getUserChatsSuccess(response.data));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\nexport function insertChat(chat) {\n  return async () => {\n    try {\n      await axios.post('/api/chat/insert', chat);\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\nexport function getUsers() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/chat/users');\n      dispatch(chat.actions.getUsersSuccess(response.data.users));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}","map":{"version":3,"names":["createSlice","axios","dispatch","initialState","error","chats","user","users","chat","name","reducers","hasError","state","action","payload","getUserSuccess","getUserChatsSuccess","getUsersSuccess","reducer","getUser","id","response","post","actions","data","getUserChats","insertChat","getUsers","get"],"sources":["/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/store/reducers/chat.ts"],"sourcesContent":["// third-party\nimport { createSlice } from '@reduxjs/toolkit';\n\n// project imports\nimport axios from 'utils/axios';\nimport { dispatch } from '../index';\n\n// types\nimport { ChatStateProps } from 'types/chat';\n\n// ----------------------------------------------------------------------\n\nconst initialState: ChatStateProps = {\n  error: null,\n  chats: [],\n  user: {},\n  users: []\n};\n\nconst chat = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    // HAS ERROR\n    hasError(state, action) {\n      state.error = action.payload;\n    },\n\n    // GET USER\n    getUserSuccess(state, action) {\n      state.user = action.payload;\n    },\n\n    // GET USER CHATS\n    getUserChatsSuccess(state, action) {\n      state.chats = action.payload;\n    },\n\n    // GET USERS\n    getUsersSuccess(state, action) {\n      state.users = action.payload;\n    }\n  }\n});\n\n// Reducer\nexport default chat.reducer;\n\n// ----------------------------------------------------------------------\n\nexport function getUser(id: number) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/chat/users/id', { id });\n      dispatch(chat.actions.getUserSuccess(response.data));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\n\nexport function getUserChats(user: string | undefined) {\n  return async () => {\n    try {\n      const response = await axios.post('/api/chat/filter', { user });\n      dispatch(chat.actions.getUserChatsSuccess(response.data));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\n\nexport function insertChat(chat: any) {\n  return async () => {\n    try {\n      await axios.post('/api/chat/insert', chat);\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\n\nexport function getUsers() {\n  return async () => {\n    try {\n      const response = await axios.get('/api/chat/users');\n      dispatch(chat.actions.getUsersSuccess(response.data.users));\n    } catch (error) {\n      dispatch(chat.actions.hasError(error));\n    }\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}