{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useOptionalFactory = useOptionalFactory;\n\nvar _react = require(\"react\");\n\nfunction useOptionalFactory(arg, deps) {\n  const memoDeps = [...(deps || [])];\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return (0, _react).useMemo(() => {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","map":{"version":3,"mappings":";;;;;QAGgBA;;AAHQ,UAAO,mBAAP;;SAGRA,mBACfC,KACAC,MACI;EACJ,MAAMC,QAAQ,GAAG,KAAKD,IAAI,IAAI,GAAb,CAAjB;;EACA,IAAIA,IAAI,IAAI,IAARA,IAAgB,OAAOD,GAAP,KAAe,UAAnC,EAA+C;IAC9CE,QAAQ,CAACC,IAATD,CAAcF,GAAdE;EACA;;EACD,OAAM,IAACE,MAAD,EAAQA,OAAR,CAAQ,MAAU;IACvB,OAAO,OAAOJ,GAAP,KAAe,UAAf,GAA6BA,GAAG,EAAhC,GAAkDA,GAAzD;EACA,CAFK,EAEHE,QAFG,CAAN;AAGA","names":["useOptionalFactory","arg","deps","memoDeps","push","useMemo"],"sources":["../../../src/hooks/useOptionalFactory.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport type { FactoryOrInstance } from './types.js'\n\nexport function useOptionalFactory<T>(\n\targ: FactoryOrInstance<T>,\n\tdeps?: unknown[],\n): T {\n\tconst memoDeps = [...(deps || [])]\n\tif (deps == null && typeof arg !== 'function') {\n\t\tmemoDeps.push(arg)\n\t}\n\treturn useMemo<T>(() => {\n\t\treturn typeof arg === 'function' ? (arg as () => T)() : (arg as T)\n\t}, memoDeps)\n}\n"]},"metadata":{},"sourceType":"script"}