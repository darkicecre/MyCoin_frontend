{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react'; // ----------------------------------------------------------------------\n\nexport default function useLocalStorage(key, defaultValue) {\n  _s();\n\n  const [value, setValue] = useState(() => {\n    const storedValue = typeof window !== 'undefined' ? localStorage.getItem(key) : null;\n    return storedValue === null ? defaultValue : JSON.parse(storedValue);\n  });\n  useEffect(() => {\n    const listener = e => {\n      if (typeof window !== 'undefined' && e.storageArea === localStorage && e.key === key) {\n        setValue(e.newValue ? JSON.parse(e.newValue) : e.newValue);\n      }\n    };\n\n    window.addEventListener('storage', listener);\n    return () => {\n      window.removeEventListener('storage', listener);\n    };\n  }, [key, defaultValue]);\n\n  const setValueInLocalStorage = newValue => {\n    setValue(currentValue => {\n      const result = typeof newValue === 'function' ? newValue(currentValue) : newValue;\n      if (typeof window !== 'undefined') localStorage.setItem(key, JSON.stringify(result));\n      return result;\n    });\n  };\n\n  return [value, setValueInLocalStorage];\n}\n\n_s(useLocalStorage, \"yVwABwckExwHjmP9cDx+YlKR8B0=\");","map":{"version":3,"names":["useState","useEffect","useLocalStorage","key","defaultValue","value","setValue","storedValue","window","localStorage","getItem","JSON","parse","listener","e","storageArea","newValue","addEventListener","removeEventListener","setValueInLocalStorage","currentValue","result","setItem","stringify"],"sources":["/home/hieu/Desktop/MyCoin_front/MyCoin_frontend/src/hooks/useLocalStorage.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n// ----------------------------------------------------------------------\n\nexport default function useLocalStorage<ValueType>(key: string, defaultValue: ValueType) {\n  const [value, setValue] = useState(() => {\n    const storedValue = typeof window !== 'undefined' ? localStorage.getItem(key) : null;\n    return storedValue === null ? defaultValue : JSON.parse(storedValue);\n  });\n\n  useEffect(() => {\n    const listener = (e: StorageEvent) => {\n      if (typeof window !== 'undefined' && e.storageArea === localStorage && e.key === key) {\n        setValue(e.newValue ? JSON.parse(e.newValue) : e.newValue);\n      }\n    };\n    window.addEventListener('storage', listener);\n\n    return () => {\n      window.removeEventListener('storage', listener);\n    };\n  }, [key, defaultValue]);\n\n  const setValueInLocalStorage = (newValue: ValueType) => {\n    setValue((currentValue: any) => {\n      const result = typeof newValue === 'function' ? newValue(currentValue) : newValue;\n      if (typeof window !== 'undefined') localStorage.setItem(key, JSON.stringify(result));\n      return result;\n    });\n  };\n\n  return [value, setValueInLocalStorage];\n}\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAEA;;AAEA,eAAe,SAASC,eAAT,CAAoCC,GAApC,EAAiDC,YAAjD,EAA0E;EAAA;;EACvF,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,MAAM;IACvC,MAAMO,WAAW,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,YAAY,CAACC,OAAb,CAAqBP,GAArB,CAAhC,GAA4D,IAAhF;IACA,OAAOI,WAAW,KAAK,IAAhB,GAAuBH,YAAvB,GAAsCO,IAAI,CAACC,KAAL,CAAWL,WAAX,CAA7C;EACD,CAHiC,CAAlC;EAKAN,SAAS,CAAC,MAAM;IACd,MAAMY,QAAQ,GAAIC,CAAD,IAAqB;MACpC,IAAI,OAAON,MAAP,KAAkB,WAAlB,IAAiCM,CAAC,CAACC,WAAF,KAAkBN,YAAnD,IAAmEK,CAAC,CAACX,GAAF,KAAUA,GAAjF,EAAsF;QACpFG,QAAQ,CAACQ,CAAC,CAACE,QAAF,GAAaL,IAAI,CAACC,KAAL,CAAWE,CAAC,CAACE,QAAb,CAAb,GAAsCF,CAAC,CAACE,QAAzC,CAAR;MACD;IACF,CAJD;;IAKAR,MAAM,CAACS,gBAAP,CAAwB,SAAxB,EAAmCJ,QAAnC;IAEA,OAAO,MAAM;MACXL,MAAM,CAACU,mBAAP,CAA2B,SAA3B,EAAsCL,QAAtC;IACD,CAFD;EAGD,CAXQ,EAWN,CAACV,GAAD,EAAMC,YAAN,CAXM,CAAT;;EAaA,MAAMe,sBAAsB,GAAIH,QAAD,IAAyB;IACtDV,QAAQ,CAAEc,YAAD,IAAuB;MAC9B,MAAMC,MAAM,GAAG,OAAOL,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,CAACI,YAAD,CAAzC,GAA0DJ,QAAzE;MACA,IAAI,OAAOR,MAAP,KAAkB,WAAtB,EAAmCC,YAAY,CAACa,OAAb,CAAqBnB,GAArB,EAA0BQ,IAAI,CAACY,SAAL,CAAeF,MAAf,CAA1B;MACnC,OAAOA,MAAP;IACD,CAJO,CAAR;EAKD,CAND;;EAQA,OAAO,CAAChB,KAAD,EAAQc,sBAAR,CAAP;AACD;;GA5BuBjB,e"},"metadata":{},"sourceType":"module"}